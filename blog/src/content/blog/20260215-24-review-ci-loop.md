---
title: "생각해보면 자연스럽습니다."
description: "작은 커밋 리뷰, 지속적 통합, CI 자동 검증을 묶어 리뷰 병목과 늦은 통합 실패를 줄인 운영 기준을 정리한 글."
pubDate: "2023-09-07T11:50:15+00:00"
source: twitter
tags:
  - "리뷰"
  - "지속적통합"
  - "CI"
  - "테스트"
  - "협업"
---

리뷰를 열심히 했는데도 놓치는 순간은 보통 복잡한 로직보다 경계에서 나온다. 변수명 하나 바꾸는 작업을 백엔드부터 프론트엔드까지 확인했는데도 누락이 생겼고, 돌아보니 중간에 `any` 캐스팅된 구간이 있었다. 타입 신호가 끊기면 리뷰는 사람의 집중력에 크게 의존한다. 그래서 이때부터는 테스트나 타입 중 하나는 반드시 자동으로 잡히게 두자는 기준을 잡았다.

반대로 흐름이 좋았던 시기에는 공통점이 분명했다. 커밋을 작게 나눠 틈틈이 리뷰하니 변경 폭이 작아서 판단이 빨랐고, 리뷰 피로도도 낮았다. 오픈 전이라 메인 커밋이 바로 장애로 이어질 가능성이 낮았던 조건도 있었지만, 핵심은 변경 단위를 작게 유지한 점이었다. 여기에 페어코딩을 권장하니 사후 리뷰에서 찾아야 할 결함 자체가 줄었고, 속도와 개발자 경험이 함께 좋아졌다.

지속적 통합은 코드 정합성만의 문제가 아니었다. 메인 브랜치와 작업 브랜치의 간극이 커질수록 리뷰는 코드 읽기보다 의도 맞추기에 시간을 더 쓰게 된다. 이 차이가 커지면 리뷰는 길어지고, 결국 병목이 된다. 큰 PR 하나를 오래 끌기보다 자주 병합하고 자주 맞추는 방식이 전체 비용을 낮춘다는 걸 반복해서 확인했다.

CI를 비워 둔 기간에는 대가가 바로 드러났다. 지난주에 추가한 테스트 두 개가 그사이 모두 깨져 있었고, 언제부터 깨졌는지 즉시 파악하기 어려웠다. 그래서 유닛, 통합, E2E 테스트를 다시 정리해 파이프라인에 넣는 작업부터 했다. 실패 알림도 강하게 걸었다. 완벽한 해법은 아니고, 큰 커밋이나 느슨한 타입 사용이 이어지면 다시 흔들린다. 그래도 변경을 작게 유지하고 메인과 간극을 줄이며 자동 검증을 상시로 두면, 리뷰 품질과 통합 안정성은 확실히 나아진다.
