---
title: 코딩 에이전트 운영에서 먼저 세운 가드레일
description: 병렬 PR과 다중 에이전트 실험에서 실제로 발생한 충돌을 바탕으로, 브랜치·컨텍스트·리뷰 운영 규칙을 정리했다.
pubDate: 2025-07-03T11:13:58+00:00
source: twitter
tags:
  - ai-agent
  - workflow
  - code-review
  - engineering-management
---

에이전트와 PR을 병렬로 늘리면 속도가 날 것 같았지만, 초기 단계에서는 흐름이 먼저 깨졌다. 기준이 맞지 않은 상태에서 다른 에이전트를 리뷰 보완으로 투입하자 PR 간 충돌이 쌓였고 결국 전부 abandon 후 다시 시작했다. 한 이슈를 워크트리 3중으로 나눴을 때도 비슷했다. 구현보다 브랜치 정합성을 맞추는 시간이 더 길어졌고, 누가 어떤 결정을 확정했는지 추적이 어려워졌다.

그래서 운영 기준을 단순하게 바꿨다. 종속성이 큰 구간은 병렬 PR을 줄이고 선발대 한두 명이 `main`에 짧은 커밋으로 뼈대를 먼저 만든다. 분기점이 생긴 뒤에만 브랜치를 나눈다. 요청 방식도 바꿨다. 일부 구현만 던지지 않고 최종 목적지, 제약, 제외 범위를 컨텍스트 문서로 먼저 합의했다. 사람이든 LLM이든 이 단계가 없으면 재작업 비율이 높았다.

리뷰도 셀프 리뷰 횟수보다 책임 경계를 우선했다. 여러 차례 정제한 코드가 최종 채택되지 않은 경우가 있었고, 반대로 사람 디버깅으로 빠르게 끝난 사례도 있었다. 프론트 테스트 이슈를 버전 충돌로 오래 끌다 토큰을 크게 소모했고, 결국 원인은 임포트 순서였다. 모델이 잘못된 가설을 오래 잡으면 품질보다 비용이 먼저 무너진다는 점을 반복해서 확인했다.

결국 효과가 있었던 가드레일은 거창한 오케스트레이션이 아니라 기본 운영 규칙이었다. 초기에는 병렬성보다 변경 흐름의 가시성을 우선하고, 컨텍스트는 분리 문서로 고정하고, 리뷰는 최종 승인 주체를 먼저 정한다. 다중 에이전트나 compact 같은 기능은 이 기준이 선 뒤에 붙일 때 효율이 났다. 다만 팀 상황과 코드베이스 성숙도에 따라 최적점은 달라서 절차를 그대로 복제하긴 어렵다. 트윗 정보만으로는 각 시도의 변경량이나 실패율을 정량화하긴 어렵다는 한계도 남는다.
