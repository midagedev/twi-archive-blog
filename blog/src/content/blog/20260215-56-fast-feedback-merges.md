---
title: "@dizy64 생각해보면 자연스럽습니다."
description: 작은 변경을 자주 통합해 속도를 올린 경험과, CI 부재로 드러난 한계를 함께 정리한 기록.
pubDate: 2023-09-07T11:50:15+00:00
source: twitter
tags:
  - 코드리뷰
  - 페어코딩
  - 지속적통합
  - 테스트
  - CI
---

오픈 전에는 메인 커밋이 바로 장애로 이어질 가능성이 낮아서, 작은 단위 변경을 자주 합치는 방식이 잘 맞았다. 커밋 단위로 틈틈이 리뷰하면 변경점이 작아 읽는 부담이 줄고, 논점도 금방 맞출 수 있다. 여기에 페어코딩을 섞으면 사후 리뷰에서 잡아야 할 항목 자체가 줄어든다. 당시 체감은 단순했다. 개발 속도는 빨라지고, 리뷰가 병목이 되지 않으니 작업 흐름도 덜 끊겼다.

지속적인 통합의 장점은 코드 충돌 방지에서 끝나지 않았다. 메인 브랜치와 작업 브랜치의 간극이 작을수록 의사소통 비용도 같이 줄었다. 차이가 커진 뒤의 리뷰는 코드 읽기보다 맥락 복원에 시간을 더 쓰게 된다. 결국 리뷰 효율은 “얼마나 잘 보느냐”보다 “얼마나 빨리 맞춰가느냐”에 더 크게 좌우됐다. 작은 변경을 자주 맞추는 리듬이 팀 대화의 기본 단위가 됐다.

문제는 이 리듬만으로 품질이 자동 보장되지는 않는다는 점이었다. CI로 테스트를 돌리지 않던 기간에, 지난주에 넣어둔 테스트 두 개가 이미 깨져 있었다. 변수명 하나 바꾸는 작업에서도 백엔드부터 프론트엔드까지 리뷰했지만 누락이 남았고, 중간의 `any` 캐스팅이 타입 검증을 비켜간 원인이었다. 리뷰는 의도와 설계 판단에는 강하지만, 반복 확인은 사람의 집중력에 기대면 결국 틈이 생긴다.

그래서 정리 순서는 명확했다. 유닛, 통합, e2e 테스트를 다시 정리하고 CI 파이프라인에 묶어 메인에 들어갈 때 자동으로 확인되게 하는 것. 깨뜨린 변경을 즉시 드러내는 알림도 같은 맥락이다. 공개된 정보만으로는 속도 개선 폭을 수치로 말할 수는 없지만, 적용 포인트는 분명하다. 통합 주기를 짧게 유지하고, 리뷰 범위를 작게 잡고, 테스트와 타입을 CI로 강제하는 가드레일을 같이 운영해야 한다. 셋 중 하나라도 빠지면 빠른 개발은 유지돼도 신뢰는 오래 가지 않는다.
