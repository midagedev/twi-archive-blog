---
title: "TIL, 몽고디비는 RDS의 클러스터 엔드포인트같이 안정적인 엔드포인트가 없다."
description: "RDS와 다른 몽고디비 연결 특성 때문에 겪은 불안정성과, 커넥션 수명·리트라이를 기본값으로 둔 판단을 정리했다."
pubDate: 2025-12-30T03:24:11+00:00
source: twitter
tags:
  - mongodb
  - rds
  - database
  - reliability
---

오늘 정리한 건 몽고디비 연결 방식이다. RDS에서 익숙한 클러스터 엔드포인트 같은 안정적인 단일 엔드포인트를 기대했는데, 몽고디비는 전제가 달랐다. 커넥션스트링을 넣으면 드라이버가 개별 노드로 직접 붙는 구조라서, 연결 안정성을 애플리케이션 쪽에서 더 신경 써야 했다.

문제는 운영 중 노드 유지보수가 들어갈 때 더 선명해졌다. 노드 주소가 바뀌는 순간 DNS 캐싱 같은 조건이 겹치면 연결이 끊길 수 있었다. 겉으로는 같은 클러스터를 쓰는 것처럼 보여도 실제 연결 단위는 노드라서, 장애 감각이 RDS를 쓸 때와 꽤 달랐다.

그래서 선택은 단순했다. 커넥션 수명을 짧게 가져가고, 요청 리트라이는 기본 전략으로 두는 쪽이다. 거창한 최적화보다 먼저 실패를 빠르게 회복하는 경로를 기본값으로 두는 게 맞다고 봤다. 이 설정이 모든 케이스를 해결해 주는 건 아니지만, 끊김을 오래 끌지 않게 만드는 데는 필요했다.

쓰면 쓸수록 “이걸 비즈니스 데이터를 담는 데이터베이스로 어떻게 안정적으로 쓰지?”라는 의문이 반복됐다. 셀프호스팅도 아니고 Atlas를 쓰는데도 같은 고민이 계속 왔다. 처음 약 3개월은 내가 익숙하지 않아서라고 생각했지만, 지금은 구조적 차이를 전제로 운영 기준을 먼저 세워야 한다는 쪽으로 판단이 굳어졌다. 이 글은 그 스레드 안에서 확인한 경험만 정리한 기록이다.
