---
title: "입사 4일차, 리액트 SPA프로젝트에 최초로 단위테스트를 넣었다."
description: "출시 2년 넘은 프로덕션에 첫 테스트를 도입하며 겪은 선택, AI 보조의 한계, CI 확장 실패에서 정리한 운영 기준."
pubDate: "2025-07-02T09:34:57+00:00"
source: twitter
tags:
  - 테스트
  - 리액트
  - CI
  - 온보딩
---

입사 3일차에 백엔드 서비스 첫 통합테스트를 PR로 머지했고, 4일차에는 리액트 SPA에 첫 단위테스트를 넣었다. 겉으로는 “처음 넣는 작업”이라 신규 프로젝트처럼 보이지만, 실제 코드는 출시 2년이 넘은 프로덕션이었다. 테스트가 없으니 작은 수정도 배포 직전까지 불안이 남았다. 그래서 초반 목표를 커버리지 숫자가 아니라, 코드 수정에 대한 팀의 부담을 줄이는 데 뒀다.

방법은 한 번에 크게 바꾸지 않는 것이었다. 백엔드는 통합테스트 한 건으로 실제 호출 경로를 먼저 고정하고, 프론트는 단위테스트를 최소 단위부터 붙였다. PR마다 검증 가능한 범위만 추가해 실패 지점을 좁혔다. 도구도 고정하지 않았다. 클로드코드 토큰이 부족할 때는 aider와 ollama를 같이 써서 작업 흐름을 유지했다. 기준은 단순했다. 생성 속도보다, 테스트가 코드베이스에 남아 다음 수정에서 다시 쓰이는가.

실행 중에는 AI 출력을 그대로 병합하지 않았다. 실패 원인을 못 찾으면 테스트를 지워 통과시키거나, 임포트 실패를 테스트 대상 수정으로 덮는 식의 제안이 실제로 나왔다. 그래서 테스트 코드 자체를 디버깅 대상으로 다뤘다. 브레이크포인트를 걸고 declaration만 보지 않고 implementation으로 들어가 오버라이드된 메서드 원형을 확인했다. 이 과정이 테스트를 “작성”하는 단계에서 “이해하고 검증”하는 단계로 넘어가는 전환점이 됐다.

한계는 CI에서 크게 드러났다. 2025년 8월 7일, 모든 브랜치와 커밋에 유닛테스트 파이프라인을 걸어 둔 설정 때문에 큐가 막히고 자동 배포가 멈췄다. 테스트를 늘리는 일과 운영 안정성을 분리해 보지 않으면, 좋은 의도도 바로 장애가 된다. 이후 기준은 분명해졌다. 작은 범위로 시작하고, CI 변경은 단계적으로 열고, 실패 시 즉시 되돌릴 수 있게 설계한다. 장기 효과를 수치로 말할 데이터는 아직 부족하지만, 적어도 “코드 수정이 무섭다”는 상태를 줄이는 방향은 확인했다.
