---
title: "빡시게 RDB 스키마 정규화해가며 관리하던 회사에서 mongodb에다가 마이그레이션 없이 스키마 바꿔가며 집어넣는 회사에 오니 눈"
description: "정규화와 마이그레이션 중심으로 일하던 방식에서, 무마이그레이션 MongoDB 운영을 마주했을 때의 판단 기준과 데이터 부채 감각을 정리한 글."
pubDate: 2025-07-31T10:02:08+00:00
source: twitter
tags:
  - mongodb
  - schema
  - migration
  - data-debt
---

예전에는 RDB 스키마를 정규화해서 관리하는 게 기본이었다. 스키마를 바꿀 때는 마이그레이션을 붙였고, 데이터 변경도 따로 다뤘다. 그런데 지금은 MongoDB에 마이그레이션 없이 스키마를 바꿔 넣는 흐름을 마주했다. 처음 든 생각은 단순했다. 이걸 어떻게 관리하지, 이걸 여러 서비스에서 어떻게 공통으로 쓰지. 그 순간 데이터 자체가 이미 부채라는 감각이 먼저 왔다.

이전 환경에서는 코드에 분기가 늘지 않게 스키마를 먼저 깎았다. 스키마와 데이터를 함께 정리하고, 프로덕션에서도 필요하면 하루에 여러 번 마이그레이션을 돌렸다. 번거롭지만 계약을 명확히 만드는 방식이었다. 같은 필드를 같은 의미로 읽고 쓰게 만드는 데 비용을 쓴 셈이다.

지금 방식의 문제는 기술 선택 자체보다 운영 기준의 부재에 가깝다. 스키마가 수시로 바뀌는데 변경 이력이 남지 않으면, 서비스마다 해석이 갈리고 방어 코드가 늘어난다. 시간이 지나면 “왜 이렇게 저장됐는지”를 설명할 수 있는 사람이 줄어든다. 아직 구체적 장애 사례를 말할 정보는 없지만, 현재 보이는 신호만으로도 리스크는 충분히 크다.

결국 경력자를 뽑아 돈을 준 이유는 이런 구간을 정리하라는 뜻이라고 본다. 거창한 재설계보다 먼저, 최소한의 스키마 계약과 변경 절차부터 복구해야 한다. 마이그레이션을 전면 도입하지 못하더라도, 어떤 변경을 언제 왜 했는지 추적 가능하게 만들면 부채의 증가 속도는 줄일 수 있다. 지금 필요한 건 새 도구보다 기준이다.
