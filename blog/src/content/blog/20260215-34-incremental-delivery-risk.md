---
title: 리스크가 큰 기능일수록 작은 PR로 배포한 이유
description: 긴 준비 기간이 필요한 기능을 안전하게 출시하려고, 이슈와 PR 단위를 줄이고 빅뱅 머지를 피했던 작업 방식을 정리했다.
pubDate: 2024-06-21T08:46:36+00:00
source: twitter
tags:
  - engineering
  - change-management
  - jira
  - pull-request
  - delivery
---

리스크가 큰 기능을 붙일 때 가장 먼저 보는 건 코드 양이 아니라 병합 단위다. 40일 정도 준비한 피처 브랜치를 머지하던 날, QA를 거쳤는데도 마음이 편하지 않았다. 커밋 하나에 오류 가능성이 1%만 있어도 100개가 모이면 오류가 섞일 가능성이 63.4%라는 계산을 떠올리면, 빅뱅 머지는 기술 자신감과 별개로 운영 리스크가 크다. 기능이 커질수록 구현 난도보다 변경 방식이 더 중요한 이유다.

그래서 지라 이슈를 가능한 작게 쪼개고, 하루에 최소 한 개 이상 닫는 리듬을 만들었다. PR도 같은 기준으로 작게 끊었다. 이렇게 하면 리뷰 포인트가 선명하고, 되돌리기도 쉽다. AI를 같이 쓰는 작업에서도 효과가 비슷했다. PR 하나가 끝날 때마다 모델과 작업자 모두 이전 맥락을 비우고, 초기에 적어둔 결정 사항과 현재 진척을 다시 정리한 프롬프트로 다음 단계를 시작했다. 긴 컨텍스트를 붙잡기보다 짧은 루프를 반복하는 쪽이 안정적이었다.

한두 달 준비한 기능을 오픈할 때 막판 변경이 몰려 들어오면 일정과 품질이 동시에 흔들린다. 실제로 끝물 변경은 꽤 골치 아팠지만, 변경 조각이 작아 영향 범위를 먼저 나눌 수 있었고 우선순위도 빨리 정했다. 같이 작업하는 동료가 있을 때 수습 속도가 좋아진 것도 체감했다. 다만 이 경험이 병렬 작업 만능론을 뜻하지는 않는다. 순차 의존성이 큰 구간은 초기에 main에서 선발대 한두 명이 먼저 길을 내는 편이 더 효율적이었다.

팀 규모나 배포 체계가 다르면 세부 운영은 달라질 수 있다. 그래도 기본 원칙은 유지됐다. 위험한 기능일수록 ‘완성 후 한 번에 머지’보다 ‘의미 단위로 계속 머지’가 안전하다. 이슈는 작게, PR은 더 작게, 결정 기록은 계속 갱신한다. 막판 변경은 피할 수 없으니, 변경을 흡수할 구조를 먼저 만드는 쪽이 현실적이다. 속도는 그다음에 따라온다.
