---
title: 유행보다 운영 가능성으로 아키텍처를 고른다는 것
description: 팀의 숙련도와 조직 제약 안에서 아키텍처와 스택을 선택할 때, 과한 설계의 비용과 현실적인 기준을 정리했다.
pubDate: 2023-06-10T10:28:46+00:00
source: twitter
tags:
  - architecture
  - software-engineering
  - tech-decision
  - team
---

몇 년 전 릴리즈 주기가 다른 제품들을 분리하고 싶어서 MSA를 도입했다. 결과는 좋지 않았다. 대략 10MM 수준의 개발 리소스를 쓰고도 “그래서 어떻게 하는 게 맞는가”를 명확히 정리하지 못했다. 문제는 배포 단위를 나누는 일이었는데, 해법을 시스템 전체 분해로 크게 잡아버린 셈이었다. 지금 돌아보면 기술적 필요보다 이력에 남길 선택을 하고 싶었던 마음이 더 컸다.

그 뒤로 기준을 바꿨다. CTO라면 멋진 언어나 최신 프레임워크보다, 그 시점 팀이 가장 잘 만들고 고칠 수 있는 스택을 먼저 고르는 게 맞다. 실제 운영에서는 구현보다 트러블슈팅 시간이 더 길어지는 순간이 자주 온다. 작은 회사에서 특히 채용 난이도는 언어보다 급여와 팀의 매력도가 더 크게 작동했다. 기술 선택으로 채용 문제까지 해결하겠다는 가정은 현실에서 자주 빗나갔다.

IaC를 고민할 때도 같은 패턴이 보였다. 개인적으로는 예전에 Python 스크립트로 운영했던 경험이 좋아서, 현재 팀의 주력 언어가 TypeScript와 Kotlin이라면 Pulumi가 자연스럽다고 생각했다. 하지만 인프라 팀은 Terraform을 선호했다. 이 지점에서 배운 건 개인 생산성보다 협업 경계에서 생기는 비용을 먼저 계산해야 한다는 점이다. 당시 논의는 진행 중이어서 최종 결정은 공개된 정보만으로 단정하기 어렵지만, 판단 기준은 분명해졌다.

데이터베이스 선택도 다르지 않다. MongoDB 같은 선택은 초반 속도를 줄 수 있지만, 중후반에 모델링과 운영 난도를 크게 청구할 수 있다. 어려운 문제를 없애는 게 아니라 지불 시점을 옮기는 의사결정이 되기 쉽다. 경영진이 소프트웨어 맥락에 익숙하지 않을수록, 이 비용 이동을 먼저 설명하고 합의해야 한다. 예전에 FastAPI에 GraphQL을 붙인 선택을 떠올리면 더 그렇다. 유행은 빠르지만, 운영은 길다. 결국 남는 기준은 “지금 팀이 감당할 수 있는가”다.
