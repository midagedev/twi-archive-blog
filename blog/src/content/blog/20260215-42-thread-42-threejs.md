---
title: "이전회사에서 만지던게 three.js로 돌아가는 솔루션이었다."
description: three.js 객체에 과도하게 걸린 리액티비티를 걷어내며 상태 경계를 다시 설계했던 경험을 정리했다.
pubDate: 2023-03-25T11:53:05+00:00
source: twitter
tags:
  - threejs
  - vuejs
  - react
  - 상태관리
  - 회고
---

이전 회사에서 다루던 건 three.js로 돌아가는 솔루션이었고, 그 위에 Vue가 올라가 있었다. 가장 크게 부딪힌 문제는 수백 MB급 three.js 오브젝트들까지 리액티비티가 걸려 있었다는 점이다. 화면 상태만 반응하면 될 자리에 무거운 객체 자체가 추적되면서, 브라우저가 자주 버티지 못하는 상황이 나왔다.

팀의 우선순위는 기능 추가보다 리액티비티 경계를 다시 그리는 일이었다. 어떤 값이 반응형이어야 하는지부터 다시 정리하고, 무거운 오브젝트는 추적 대상에서 떼어냈다. 자동 전파에 기대던 흐름을 줄이고 상태를 명시적으로 다루는 방식으로 옮겼고, 이 작업에만 두어 달이 들어갔다.

이 과정에서 느낀 건 단순했다. 편해 보이는 기본 설정이 항상 운영 비용을 줄여주지는 않는다. 특히 렌더링처럼 객체가 크고 수명이 긴 영역에서는, 프레임워크의 자동화보다 상태의 소유권과 갱신 경로를 먼저 고정하는 편이 안전했다. 그 맥락에서 React의 명시적 상태 관리가 왜 장점으로 작동하는지 체감했다.

돌아보면 기술 회고의 표현 방식도 중요했다. 당시 과했던 트윗은 삭제했고, 전 회사 동료들에게 사과했다. 문제를 말할 때 핵심은 누가 잘못했는지가 아니라, 어떤 설계 선택이 어떤 부하를 만들었는지를 정확히 남기는 일이라고 정리하고 있다.
