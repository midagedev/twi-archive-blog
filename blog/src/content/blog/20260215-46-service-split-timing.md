---
title: 서비스 분리 시점을 고르는 기준
description: 프레임워크 비난 대신 도메인 안정성, 가용성 요구, 처리량 목표로 분리 시점을 판단한 경험을 정리했다.
pubDate: 2024-08-28T11:55:59+00:00
source: twitter
tags:
  - architecture
  - msa
  - django
  - go
  - scaling
---

서비스가 커질 때 장애나 배포 병목이 생기면 프레임워크부터 탓하기 쉽다. 하지만 이건 Django만의 문제가 아니다. 대부분의 초기 프로젝트가 성장 구간에서 비슷한 벽을 만난다. Django 사례가 더 자주 보이는 건 그 위에서 시작해 실제로 커진 서비스가 많아서다. 그래서 기준은 “무엇으로 만들었나”가 아니라 “지금 규모에 맞는 구성인가”로 옮겨가야 했다.

분리의 이름보다 기준이 중요했다. 애매하게 쪼갠 서비스가 결국 한 번에 배포되고, Kubernetes에 올렸다는 사실만 남는 구조는 운영 비용만 키운다. 나눌 게 없는데 BFF부터 만드는 선택도 같은 맥락이다. 반대로 도메인 경계가 어느 정도 안정됐고 고가용성 요구가 크며, 도메인별 지식이 깊어 팀이 맥락 전환에 지치기 시작하면 분리의 이득이 현실적인 선택이 된다.

실행은 과장할 일이 없었다. Django에 붙어 있던 API를 하나씩 Go로 옮기면서 언어 교체보다 경계 정리를 먼저 했다. 작은 레포에서는 전체 코드를 모델에 넣어 로직 이전 속도를 높일 수 있어서 직접 타이핑 비중은 크지 않았다. 대신 요청 흐름, 실패 처리, 데이터 쓰기 경로는 손으로 다시 확인했다. 다음 단계로 SQS에 요청을 모아 bulk insert로 처리하는 경로를 붙여 처리량을 올리는 방식을 시험 중이다.

중간 결론은 단순하다. 분리 자체가 주는 책임 경계의 선명함은 분명했고, 동시에 Go에서는 직접 구현해야 할 항목이 늘어나는 부담도 확인됐다. 성능 개선 폭은 아직 실측으로 확정하지 못했기 때문에 “열 배” 같은 기대치는 가설로만 다루는 게 맞다. 결국 분리 시점은 기술 유행이 아니라 도메인 안정성, 가용성 요구, 그리고 측정 가능한 처리량 목표가 동시에 맞아떨어질 때 잡아야 한다.
