---
title: "요즘 느끼는 것, 대충 기능이 3가지라면 문제의 소지는 1+2+3 해서 5정도 되는 느낌 문제는 기능이 6개면 이게 순식간에 1+"
description: "기능 수보다 결합도를 먼저 줄여야 전달 속도와 운영 안정성이 같이 좋아진다는 점을, 배포 묶음·검증 규칙·데드코드 관점에서 정리한 글."
pubDate: "2023-10-17T16:10:22+00:00"
source: twitter
tags:
  - 아키텍처
  - 복잡도
  - 배포
  - 도메인모델
  - 데드코드
---

기능이 3개일 때는 문제가 1+2+3 정도로 보이는데, 6개가 한 덩어리로 묶이면 체감 난이도는 훨씬 가파르게 올라간다. 특히 의존성이 없는 기능까지 같은 테스트, 같은 배포 묶음으로 다루기 시작하면 비용이 누적된다. 효용이 낮은 기능 하나 때문에 바로 가치가 나는 기능의 배포가 밀리고, 팀에는 “왜 이렇게 느리지”만 남는다. 이 지점에서 병목은 개인 역량보다 기능 경계를 어떻게 잡았는지에서 먼저 생긴다.

내가 자주 택한 방식은 기능 수를 줄이는 게 아니라 결합을 줄이는 쪽이다. 6개를 한 번에 통과시키는 구조 대신 3개짜리 두 묶음으로 격리하면 테스트 범위와 실패 반경이 같이 줄어든다. 데이터베이스 제약만으로 표현되지 않는 규칙이 계속 늘어나는 상황일수록 이 분리가 더 중요해진다. 규칙이 많다고 곧바로 큰 도메인 모델로 가면, 문제 해결보다 모델 유지가 더 큰 일이 되는 경우가 실제로 많았다.

객체지향도 비슷하게 느꼈다. 결과적으로 코드가 그렇게 보이면 괜찮은데, 처음부터 방법론을 목표로 두면 YAGNI를 자주 깨게 된다. 아직 필요가 증명되지 않은 추상화가 늘고, 바꿔야 할 시점에 코드가 오히려 단단하게 굳는다. 그래서 기준을 단순하게 둔다. DB가 막을 수 있는 규칙은 DB에 두고, 흐름과 상태 조합에서만 드러나는 규칙은 애플리케이션 계층에서 작게 검증한다.

데드코드도 같은 축에서 본다. 데드코드가 있다는 사실 자체를 개발자 개인의 과오로만 보면 재발을 막기 어렵다. 일정 압박이 과도해서 임시 분기와 미완성 경로가 쌓였는지, 우선순위가 자주 바뀌어 배포되지 못한 코드가 남았는지 같이 봐야 한다. 결국 아키텍처는 취향 문제가 아니라 전달 체계의 건강 신호에 가깝다. 기능을 추가하는 회의만큼, 무엇을 분리 배포하고 무엇을 지울지 결정하는 회의를 같은 비중으로 운영해야 한다.
